[3 tools called]

# üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –≤–µ—Ç–∫–∏ `valerii-rnd-research` —Å `main`

## –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- **20 —Ñ–∞–π–ª–æ–≤ –∏–∑–º–µ–Ω–µ–Ω–æ**
- **1751 —Å—Ç—Ä–æ–∫ –¥–æ–±–∞–≤–ª–µ–Ω–æ** ‚ûï
- **83 —Å—Ç—Ä–æ–∫–∏ —É–¥–∞–ª–µ–Ω–æ** ‚ûñ
- **–ò—Å–∫–ª—é—á–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** (docs/)

---

## üÜï –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ (4 –∫–æ–º–º–∏—Ç–∞)

### 1. **feat: Add ExtractPageContentTool and optimize prompt caching** (–ø–æ—Å–ª–µ–¥–Ω–∏–π –∫–æ–º–º–∏—Ç)

#### –ù–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:
- **ExtractPageContentTool** - –≥–ª—É–±–æ–∫–∞—è —ç–∫—Å—Ç—Ä–∞–∫—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞ —Å–æ —Å—Ç—Ä–∞–Ω–∏—Ü —á–µ—Ä–µ–∑ Tavily Extract API
  - –ü—Ä–∏–Ω–∏–º–∞–µ—Ç 1-5 URLs
  - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–ª–Ω—ã–π —á–∏—Ç–∞–µ–º—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç —Å—Ç—Ä–∞–Ω–∏—Ü
  - –†–∞–±–æ—Ç–∞–µ—Ç –≤ —Å–≤—è–∑–∫–µ —Å WebSearchTool

#### –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞—Ö:
- **WebSearchTool** - —É–ø—Ä–æ—â–µ–Ω:
  - –¢–µ–ø–µ—Ä—å –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ–ª—å–∫–æ: –Ω–∞–∑–≤–∞–Ω–∏—è, —Å—Å—ã–ª–∫–∏, —Å–Ω–∏–ø–µ—Ç—ã –¥–æ 100 —Å–∏–º–≤–æ–ª–æ–≤
  - –£–±—Ä–∞–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä `scrape_content`
  - –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ExtractPageContentTool –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞

#### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è (–≥–ª–∞–≤–Ω–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ! üéØ):
- **System prompt** - –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π (97%+ cache hit rate)
  - –ü–µ—Ä–µ—á–∏—Å–ª–µ–Ω—ã –≤—Å–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –∏–º–µ–Ω–∞–º–∏ –∫–ª–∞—Å—Å–æ–≤
  - –£–±—Ä–∞–Ω—ã –≤—Å–µ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ
  
- **–î–∞—Ç–∞ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞** –≤ –∫–∞–∂–¥–æ–µ user message:
  - `initial_user_request.txt` - —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–∞—Ç—É + –∑–∞–ø—Ä–æ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  - `clarification_response.txt` - —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–∞—Ç—É + —É—Ç–æ—á–Ω–µ–Ω–∏—è
  - –§–æ—Ä–º–∞—Ç ISO: `YYYY-MM-DD HH:MM:SS` –¥–ª—è –ª—É—á—à–µ–≥–æ –ø–æ–Ω–∏–º–∞–Ω–∏—è –º–æ–¥–µ–ª—å—é

- **–ü—Ä–æ–º–ø—Ç—ã –≤—ã–Ω–µ—Å–µ–Ω—ã –≤ —Ñ–∞–π–ª—ã**:
  - `system_prompt.txt` - —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π system prompt
  - `initial_user_request.txt` - —à–∞–±–ª–æ–Ω –ø–µ—Ä–≤–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞
  - `clarification_response.txt` - —à–∞–±–ª–æ–Ω –æ—Ç–≤–µ—Ç–∞ –Ω–∞ —É—Ç–æ—á–Ω–µ–Ω–∏—è
  - –£–¥–∞–ª–µ–Ω `user_context_prompt.txt` (–±–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–µ–Ω)

#### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- **ConfluenceVectorSearchTool** - —É–±—Ä–∞–Ω —Ö–∞—Ä–¥–∫–æ–¥ `tool_name`
- **ExtractPageContentTool** - —Ç–µ–ø–µ—Ä—å –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –≤–º–µ—Å—Ç–æ –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∏
  - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –Ω–æ–º–µ—Ä–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ [1], [2], [3] –∏–∑ WebSearchTool
  - –î–æ–±–∞–≤–ª—è–µ—Ç –ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç –∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –∑–∞–ø–∏—Å—è–º

#### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:
- ‚úÖ 90% —ç–∫–æ–Ω–æ–º–∏—è –Ω–∞ input —Ç–æ–∫–µ–Ω–∞—Ö
- ‚úÖ 80% —Å–Ω–∏–∂–µ–Ω–∏–µ latency
- ‚úÖ 9600 –∏–∑ 9824 —Ç–æ–∫–µ–Ω–æ–≤ –∫–µ—à–∏—Ä—É—é—Ç—Å—è (97.7%)

---

### 2. **feat: Add Smart Platform KNN search integration**

#### –ù–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
- **ConfluenceVectorSearchTool** (198 —Å—Ç—Ä–æ–∫)
  - –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ –≤ Confluence —á–µ—Ä–µ–∑ KNN –∞–ª–≥–æ—Ä–∏—Ç–º
  - –ü–æ–Ω–∏–º–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏ –∑–Ω–∞—á–µ–Ω–∏–µ, –∞ –Ω–µ —Ç–æ–ª—å–∫–æ –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞
  - –†–∞–±–æ—Ç–∞–µ—Ç —Å —Ä—É—Å—Å–∫–∏–º –∏ –∞–Ω–≥–ª–∏–π—Å–∫–∏–º —è–∑—ã–∫–∞–º–∏
  - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Smart Platform API

- **SmartPlatformService** (239 —Å—Ç—Ä–æ–∫)
  - –°–µ—Ä–≤–∏—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Smart Platform KNN API
  - –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤
  - Polling –º–µ—Ö–∞–Ω–∏–∑–º –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
  - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ —Ç–∞–π–º–∞—É—Ç–æ–≤

#### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:
- –î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Smart Platform –≤ `settings.py`:
  - `base_url` - URL Smart Platform API
  - `agent_id` - ID –∞–≥–µ–Ω—Ç–∞ –¥–ª—è KNN –ø–æ–∏—Å–∫–∞
  - –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (—Ä–∞–±–æ—Ç–∞–µ—Ç –µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω)

---

### 3. **Add Confluence tools integration**

#### –ù–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã (824 —Å—Ç—Ä–æ–∫–∏):
- **ConfluenceSearchTool** (310 —Å—Ç—Ä–æ–∫)
  - –ü–æ–∏—Å–∫ –ø–æ –≤—Å–µ–π Confluence –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π
  - –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ç–∏–ø—É –∫–æ–Ω—Ç–µ–Ω—Ç–∞ (page/blogpost/attachment)
  - –û–ø—Ü–∏—è –≤–∫–ª—é—á–µ–Ω–∏—è –ø–æ–ª–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ —Å—Ç—Ä–∞–Ω–∏—Ü
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä—É—Å—Å–∫–æ–≥–æ –∏ –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ –ø–æ–∏—Å–∫–∞

- **ConfluenceSpaceSearchTool**
  - –¶–µ–ª–µ–≤–æ–π –ø–æ–∏—Å–∫ –≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞—Ö (NDTALL, NH, BAN, GPP)
  - –ë–æ–ª–µ–µ —Ç–æ—á–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∫–æ–≥–¥–∞ –∏–∑–≤–µ—Å—Ç–Ω–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ
  - –¢–µ –∂–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —á—Ç–æ –∏ ConfluenceSearchTool

- **ConfluencePageTool**
  - –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–ª–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø–æ Page ID
  - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –ø–æ–∏—Å–∫–æ–≤

- **ConfluenceFullTextSearchTool** + –≤–∞—Ä–∏–∞–Ω—Ç—ã (316 —Å—Ç—Ä–æ–∫)
  - –ü–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫ –≤ Confluence
  - –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ –æ—Å–Ω–æ–≤–Ω–æ–º—É –ø–æ–∏—Å–∫—É

#### –ù–æ–≤—ã–µ —Å–µ—Ä–≤–∏—Å—ã:
- **ConfluenceService** (278 —Å—Ç—Ä–æ–∫)
  - REST API –∫–ª–∏–µ–Ω—Ç –¥–ª—è Confluence
  - –ú–µ—Ç–æ–¥—ã –ø–æ–∏—Å–∫–∞, –ø–æ–ª—É—á–µ–Ω–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü
  - –û–±—Ä–∞–±–æ—Ç–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
  - –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ SourceData

#### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:
- –î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Confluence –≤ `config.yaml.example` –∏ `settings.py`:
  - `base_url` - URL Confluence instance
  - `email` - email –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  - `api_token` - —Ç–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø–∞
  - `space_keys` - —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤

---

### 4. **state bug fixes and small improvements**

- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –∞–≥–µ–Ω—Ç–∞
- –ú–µ–ª–∫–∏–µ —É–ª—É—á—à–µ–Ω–∏—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏

---

## üìÅ –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º:

### Core Agent Logic:
- `sgr_deep_research/core/agents/base_agent.py` (+32 –∏–∑–º–µ–Ω–µ–Ω–∏—è)
  - –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –¥–ª—è –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è
  - –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π system prompt + –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ user messages
  - –£–¥–∞–ª–µ–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ system message —Å –¥–∞—Ç–æ–π

- `sgr_deep_research/core/agents/sgr_tools_agent.py` (+16 –∏–∑–º–µ–Ω–µ–Ω–∏–π)
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–æ–≤—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤

### Prompts & Templates:
- `sgr_deep_research/core/prompts.py` (+51 —Å—Ç—Ä–æ–∫–∞)
  - –ù–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞: —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π + –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç
  - –ú–µ—Ç–æ–¥—ã –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è user messages —Å –¥–∞—Ç–æ–π
  - –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø—Ä–æ–º–ø—Ç–∞

- `sgr_deep_research/prompts/system_prompt.txt` (+104 —Å—Ç—Ä–æ–∫–∏)
  - –ü–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–ø–∏—Å–∞–Ω –ø–æ–¥ context engineering
  - –ü–µ—Ä–µ—á–∏—Å–ª–µ–Ω—ã –≤—Å–µ 11 –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –∏–º–µ–Ω–∞–º–∏
  - –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ Research Tools –∏ Agent Control Tools
  - –£–¥–∞–ª–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ placeholder'—ã

- **–ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã:**
  - `sgr_deep_research/prompts/initial_user_request.txt` (+5 —Å—Ç—Ä–æ–∫)
  - `sgr_deep_research/prompts/clarification_response.txt` (+5 —Å—Ç—Ä–æ–∫)

### Tools:
- `sgr_deep_research/core/tools/research.py` (+117 —Å—Ç—Ä–æ–∫)
  - –î–æ–±–∞–≤–ª–µ–Ω ExtractPageContentTool
  - –ü–µ—Ä–µ—Ä–∞–±–æ—Ç–∞–Ω WebSearchTool (—Å–Ω–∏–ø–µ—Ç—ã 100 —Å–∏–º–≤–æ–ª–æ–≤)
  - –£–ª—É—á—à–µ–Ω–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏

- `sgr_deep_research/core/tools/__init__.py` (+14 —Å—Ç—Ä–æ–∫)
  - –≠–∫—Å–ø–æ—Ä—Ç –Ω–æ–≤—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
  - Confluence tools integration

- `sgr_deep_research/core/tools/base.py` (+50 —Å—Ç—Ä–æ–∫)
  - –£–ª—É—á—à–µ–Ω–∏—è –±–∞–∑–æ–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞

- **–ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã:**
  - `sgr_deep_research/core/tools/confluence.py` (+310 —Å—Ç—Ä–æ–∫)
  - `sgr_deep_research/core/tools/confluence_full_text_search.py` (+316 —Å—Ç—Ä–æ–∫)
  - `sgr_deep_research/core/tools/confluence_vector_search.py` (+198 —Å—Ç—Ä–æ–∫)

### Services:
- `sgr_deep_research/services/tavily_search.py` (+34 —Å—Ç—Ä–æ–∫–∏)
  - –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `extract()` –¥–ª—è Tavily Extract API
  - –û–±—Ä–∞–±–æ—Ç–∫–∞ failed_results

- **–ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã:**
  - `sgr_deep_research/services/confluence_service.py` (+278 —Å—Ç—Ä–æ–∫)
  - `sgr_deep_research/services/smart_platform_service.py` (+239 —Å—Ç—Ä–æ–∫)

### Configuration:
- `sgr_deep_research/settings.py` (+21 —Å—Ç—Ä–æ–∫–∞)
  - –î–æ–±–∞–≤–ª–µ–Ω—ã ConfluenceConfig, SmartPlatformConfig
  - –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

- `config.yaml.example` (+15 —Å—Ç—Ä–æ–∫)
  - –ü—Ä–∏–º–µ—Ä—ã –Ω–∞—Å—Ç—Ä–æ–µ–∫ Confluence –∏ Smart Platform

### API & Models:
- `sgr_deep_research/api/endpoints.py` (+24 –∏–∑–º–µ–Ω–µ–Ω–∏—è)
- `sgr_deep_research/api/models.py` (+3 –∏–∑–º–µ–Ω–µ–Ω–∏—è)
- `sgr_deep_research/core/models.py` (+2 –∏–∑–º–µ–Ω–µ–Ω–∏—è)

---

## üéØ –ö–ª—é—á–µ–≤—ã–µ –æ—Ç–ª–∏—á–∏—è –æ—Ç main:

### 1. **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–º–ø—Ç–æ–≤** (–≥–ª–∞–≤–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ!)
**Main:**
```
System Prompt (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π —Å –¥–∞—Ç–æ–π –∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏) ‚ùå
‚Üì
User Message
‚Üì
Dynamic Context (–¥–∞—Ç–∞ + –∏—Å—Ç–æ—á–Ω–∏–∫–∏) ‚ùå
```

**valerii-rnd-research:**
```
System Prompt (100% —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π) ‚úÖ –ö–ï–®–ò–†–£–ï–¢–°–Ø
‚Üì
User Message (–¥–∞—Ç–∞ –≤–Ω—É—Ç—Ä–∏) ‚úÖ
‚Üì
Conversation history
```

### 2. **–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –ø–æ–∏—Å–∫–∞**
**Main:** 1 –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç
- WebSearchTool (—Ç—è–∂–µ–ª—ã–π, —Å –ø–æ–ª–Ω—ã–º –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º)

**valerii-rnd-research:** 8 –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
- WebSearchTool (–ª–µ–≥–∫–∏–π, —Å–Ω–∏–ø–µ—Ç—ã)
- ExtractPageContentTool (–Ω–æ–≤—ã–π)
- ConfluenceSearchTool (–Ω–æ–≤—ã–π)
- ConfluenceSpaceSearchTool (–Ω–æ–≤—ã–π)
- ConfluencePageTool (–Ω–æ–≤—ã–π)
- ConfluenceVectorSearchTool (–Ω–æ–≤—ã–π)
- ConfluenceFullTextSearchTool (–Ω–æ–≤—ã–π)
- + –≤–∞—Ä–∏–∞–Ω—Ç—ã

### 3. **–≠–∫–æ–Ω–æ–º–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤**
**Main:**
- –ù–µ—Ç –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è system prompt
- –ü–æ–ª–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –≤—Å–µ—Ö —Ç–æ–∫–µ–Ω–æ–≤
- –û–±—ã—á–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å

**valerii-rnd-research:**
- 97.7% —Ç–æ–∫–µ–Ω–æ–≤ –∫–µ—à–∏—Ä—É–µ—Ç—Å—è
- 90% —ç–∫–æ–Ω–æ–º–∏—è –Ω–∞ input —Ç–æ–∫–µ–Ω–∞—Ö
- 80% —Å–Ω–∏–∂–µ–Ω–∏–µ latency

### 4. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏**
**Main:**
- –¢–æ–ª—å–∫–æ Tavily Search

**valerii-rnd-research:**
- Tavily Search + Tavily Extract
- Confluence (REST API)
- Smart Platform (KNN –≤–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫)

---

## üìà –ò—Ç–æ–≥–æ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏ —É–ª—É—á—à–µ–Ω–∏–π:

| –ú–µ—Ç—Ä–∏–∫–∞ | Main | valerii-rnd-research | –£–ª—É—á—à–µ–Ω–∏–µ |
|---------|------|---------------------|-----------|
| –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ | 7 | 15 | +114% |
| –°—Ç—Ä–æ–∫ –∫–æ–¥–∞ | –±–∞–∑–æ–≤–∞—è | +1751 | - |
| –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤ | 0% | 97.7% | ‚àû |
| –≠–∫–æ–Ω–æ–º–∏—è –Ω–∞ —Ç–æ–∫–µ–Ω–∞—Ö | 0% | 90% | üéØ |
| –°–Ω–∏–∂–µ–Ω–∏–µ latency | 0% | 80% | ‚ö° |
| –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π | 1 | 3 | +200% |

---

**–û—Å–Ω–æ–≤–Ω–∞—è —Ü–µ–Ω–Ω–æ—Å—Ç—å:** –ü–µ—Ä–µ—Ö–æ–¥ –æ—Ç monolithic prompt –∫ context engineering –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–º –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–º–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏ –ø–æ–∏—Å–∫–∞! üöÄ