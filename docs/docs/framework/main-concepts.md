# Основные концепции

Этот документ описывает ключевые сущности SGR Deep Research Framework.

![SGR Agent Core Concept](../sgr_concept.png)

## Агент

**BaseAgent** — базовый класс для всех агентов. Определяет трёхфазный цикл выполнения: Reasoning Phase → Select Action Phase → Action Phase. Управляет состоянием через `ResearchContext`, обеспечивает стриминг ответов и обработку уточнений.

## Тул

**BaseTool** — базовый класс для всех инструментов. Определяет единый интерфейс через метод `__call__()`. Все инструменты автоматически регистрируются через `ToolRegistryMixin` и возвращают результат как строку или JSON.

## Конфиг

**AgentConfig** — централизованная конфигурация агента, объединяющая настройки:

- **LLMConfig** — параметры языковой модели (API ключ, модель, температура, токены)
- **SearchConfig** — настройки поиска (Tavily API, лимиты поисков и результатов)
- **ExecutionConfig** — параметры выполнения (максимальные итерации, уточнения, директории)
- **PromptsConfig** — настройки промптов (системный промпт, шаблоны запросов)
- **MCPConfig** — настройки интеграции с MCP серверами

## Дефинишн

**AgentDefinition** — определение агента как шаблона для создания экземпляров. Включает имя агента, базовый класс, набор инструментов и все настройки из `AgentConfig`. Поддерживает загрузку из YAML файлов и автоматическое наследование настроек из `GlobalConfig`.

## Регистри

**Registry** — централизованные реестры (`AgentRegistry`, `ToolRegistry`) для автоматической регистрации и поиска классов. Обеспечивают динамический поиск по имени и типобезопасность через дженерики.

## Stream

**Streaming** — стриминг ответов для передачи данных в реальном времени. Реализует асинхронную очередь и совместим с форматом OpenAI streaming API.
